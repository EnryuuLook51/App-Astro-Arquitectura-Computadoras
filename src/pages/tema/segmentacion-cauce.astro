---
import Layout from "../../layouts/Layout.astro";
import VideoCard from "../../components/VideoCard";
import { getTopicBySlug } from "../../data/videos";

// Cambia el slug según el tema:
// 'introduccion'
// 'segmentacion-cauce'
// 'procesadores-superescalares'
// 'superescalares-implementacion'
// 'procesadores-vectoriales'

const topic = getTopicBySlug("unidad1", "segmentacion-cauce");
if (!topic) {
  return Astro.redirect("/unidad-1");
}
---

<Layout title={`${topic.name} - Arquitectura de Computadoras`}>
  <div
    class="min-h-screen bg-gradient-to-br from-white via-red-50 to-white relative overflow-hidden"
  >
    <!-- Animated background -->
    <div
      class="absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-red-100/20 via-transparent to-transparent"
    >
    <div
      class="absolute top-1/4 left-1/4 w-96 h-96 bg-red-500/3 rounded-full blur-3xl animate-pulse"
    >
    </div>

    <div class="container mx-auto px-4 py-8 max-w-7xl relative">
      <!-- Back Button -->
      <a
        href="/unidad-1"
        class="inline-flex items-center gap-2 text-red-600 hover:text-red-700 mb-8 transition-all duration-300 hover:scale-105 group bg-white/80 backdrop-blur-sm px-4 py-2 rounded-lg border border-red-200/50 hover:border-red-300/70"
      >
        <svg
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          class="group-hover:-translate-x-1 transition-transform duration-300"
        >
          <path d="M19 12H5M12 19l-7-7 7-7"></path>
        </svg>
        <span class="font-medium">Volver a temas</span>
      </a>

      <!-- Header -->
      <div
        class="bg-white/80 backdrop-blur-sm border border-red-200/50 rounded-2xl p-8 mb-10 shadow-2xl"
      >
        <div class="flex items-start gap-4">
          <div
            class="bg-gradient-to-br from-red-500/30 to-red-600/20 p-4 rounded-xl border border-red-400/30 flex-shrink-0"
          >
            <svg
              class="text-red-400"
              width="32"
              height="32"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <polygon points="23 7 16 12 23 17 23 7"></polygon>
              <rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>
            </svg>
          </div>
          <div>
            <div class="flex items-center gap-2 mb-2">
              <span
                class="text-red-400 text-sm font-semibold bg-red-500/10 px-3 py-1 rounded-full border border-red-400/30"
              >
                Tema {topic.id}
              </span>
            </div>
            <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-2">
              {topic.name}
            </h2>
            <p class="text-gray-700">Videos educativos del tema</p>
          </div>
        </div>
      </div>

      <!-- Videos Grid -->
      <div class="max-w-7xl mx-auto">
        {
          topic.videos.length > 0 ? (
            <>
              <div class="flex items-center gap-3 mb-6">
                <div class="w-1 h-6 bg-gradient-to-b from-red-400 to-red-600 rounded-full" />
                <h3 class="text-2xl font-bold text-gray-900">Videos del Tema</h3>
              </div>
              <div class="grid md:grid-cols-2 gap-6">
                {topic.videos.map((video) => (
                  <VideoCard video={video} client:load />
                ))}
              </div>
            </>
          ) : (
            <div class="text-center py-16 bg-gray-50/80 rounded-2xl border border-red-200/50">
              <svg
                class="mx-auto mb-4 text-red-400/50"
                width="64"
                height="64"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <circle cx="12" cy="12" r="10" />
                <line x1="12" y1="8" x2="12" y2="12" />
                <line x1="12" y1="16" x2="12.01" y2="16" />
              </svg>
              <p class="text-gray-600 text-lg">
                Videos próximamente disponibles
              </p>
            </div>
          )
        }
      </div>
    </div>
  </div>
</Layout>
